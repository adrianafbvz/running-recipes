<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sushi Conveyor Belt Recipes</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@0.263.1/dist/umd/lucide.min.js"></script>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect } = React;
        const { ShoppingCart, Menu, Home, X } = lucide;

        const recipes = [
          { id: 1, name: 'Recipe 1', categories: ['breakfast', 'lunch'], recipe: 'Recipe card content for dish 1', grocery: 'Grocery list for dish 1' },
          { id: 2, name: 'Recipe 2', categories: ['lunch', 'dinner'], recipe: 'Recipe card content for dish 2', grocery: 'Grocery list for dish 2' },
          { id: 3, name: 'Recipe 3', categories: ['breakfast'], recipe: 'Recipe card content for dish 3', grocery: 'Grocery list for dish 3' },
          { id: 4, name: 'Recipe 4', categories: ['dinner', 'dessert'], recipe: 'Recipe card content for dish 4', grocery: 'Grocery list for dish 4' },
          { id: 5, name: 'Recipe 5', categories: ['pre-made'], recipe: 'Recipe card content for dish 5', grocery: 'Grocery list for dish 5' },
          { id: 6, name: 'Recipe 6', categories: ['lunch', 'dinner'], recipe: 'Recipe card content for dish 6', grocery: 'Grocery list for dish 6' },
          { id: 7, name: 'Recipe 7', categories: ['breakfast', 'dessert'], recipe: 'Recipe card content for dish 7', grocery: 'Grocery list for dish 7' },
          { id: 8, name: 'Recipe 8', categories: ['dinner'], recipe: 'Recipe card content for dish 8', grocery: 'Grocery list for dish 8' },
          { id: 9, name: 'Recipe 9', categories: ['pre-made', 'lunch'], recipe: 'Recipe card content for dish 9', grocery: 'Grocery list for dish 9' },
          { id: 10, name: 'Recipe 10', categories: ['dessert'], recipe: 'Recipe card content for dish 10', grocery: 'Grocery list for dish 10' },
          { id: 11, name: 'Recipe 11', categories: ['breakfast', 'lunch'], recipe: 'Recipe card content for dish 11', grocery: 'Grocery list for dish 11' },
          { id: 12, name: 'Recipe 12', categories: ['dinner', 'pre-made'], recipe: 'Recipe card content for dish 12', grocery: 'Grocery list for dish 12' },
          { id: 13, name: 'Recipe 13', categories: ['lunch'], recipe: 'Recipe card content for dish 13', grocery: 'Grocery list for dish 13' },
          { id: 14, name: 'Recipe 14', categories: ['breakfast', 'dessert'], recipe: 'Recipe card content for dish 14', grocery: 'Grocery list for dish 14' },
          { id: 15, name: 'Recipe 15', categories: ['dinner'], recipe: 'Recipe card content for dish 15', grocery: 'Grocery list for dish 15' },
          { id: 16, name: 'Recipe 16', categories: ['pre-made'], recipe: 'Recipe card content for dish 16', grocery: 'Grocery list for dish 16' },
          { id: 17, name: 'Recipe 17', categories: ['lunch', 'dinner'], recipe: 'Recipe card content for dish 17', grocery: 'Grocery list for dish 17' },
          { id: 18, name: 'Recipe 18', categories: ['breakfast'], recipe: 'Recipe card content for dish 18', grocery: 'Grocery list for dish 18' },
          { id: 19, name: 'Recipe 19', categories: ['dessert', 'pre-made'], recipe: 'Recipe card content for dish 19', grocery: 'Grocery list for dish 19' },
          { id: 20, name: 'Recipe 20', categories: ['dinner'], recipe: 'Recipe card content for dish 20', grocery: 'Grocery list for dish 20' },
          { id: 21, name: 'Recipe 21', categories: ['breakfast', 'lunch'], recipe: 'Recipe card content for dish 21', grocery: 'Grocery list for dish 21' },
          { id: 22, name: 'Recipe 22', categories: ['lunch'], recipe: 'Recipe card content for dish 22', grocery: 'Grocery list for dish 22' },
          { id: 23, name: 'Recipe 23', categories: ['dinner', 'dessert'], recipe: 'Recipe card content for dish 23', grocery: 'Grocery list for dish 23' },
          { id: 24, name: 'Recipe 24', categories: ['pre-made'], recipe: 'Recipe card content for dish 24', grocery: 'Grocery list for dish 24' },
          { id: 25, name: 'Recipe 25', categories: ['breakfast'], recipe: 'Recipe card content for dish 25', grocery: 'Grocery list for dish 25' },
        ];

        const App = () => {
          const [currentPage, setCurrentPage] = useState('home');
          const [cart, setCart] = useState([]);
          const [menuOpen, setMenuOpen] = useState(false);
          const [selectedCategory, setSelectedCategory] = useState(null);
          const [selectedRecipe, setSelectedRecipe] = useState(null);
          const [animationPaused, setAnimationPaused] = useState(false);

          const categories = ['breakfast', 'lunch', 'dinner', 'dessert', 'pre-made'];

          const filteredRecipes = selectedCategory
            ? recipes.filter(r => r.categories.includes(selectedCategory))
            : recipes;

          const handlePlateClick = (recipe) => {
            setSelectedRecipe(recipe);
            setAnimationPaused(true);
          };

          const handleCloseRecipe = () => {
            setSelectedRecipe(null);
            setAnimationPaused(false);
          };

          const handleAddToCart = (recipe) => {
            setCart([...cart, recipe]);
            handleCloseRecipe();
          };

          const handleCategoryClick = (category) => {
            setSelectedCategory(category);
            setMenuOpen(false);
          };

          const handleExportPDF = () => {
            window.print();
          };

          const getRowRecipes = (rowIndex) => {
            const recipesPerRow = 25;
            const startIdx = rowIndex * recipesPerRow;
            const rowRecipes = [];
            
            for (let i = 0; i < recipesPerRow; i++) {
              const recipeIdx = (startIdx + i) % filteredRecipes.length;
              if (filteredRecipes[recipeIdx]) {
                rowRecipes.push(filteredRecipes[recipeIdx]);
              }
            }
            
            return rowRecipes;
          };

          if (currentPage === 'cart') {
            return (
              <div style={{ backgroundColor: '#F9FFF1', minHeight: '100vh' }}>
                <div style={{ display: 'flex', alignItems: 'center', padding: '20px', justifyContent: 'space-between' }}>
                  <div style={{ flex: '0 0 66.66%', display: 'flex', alignItems: 'center', justifyContent: 'center', backgroundColor: '#458352', height: '80px', borderRadius: '8px' }}>
                    <div style={{ fontSize: '24px', color: '#F9FFF1', fontWeight: 'bold' }}>LOGO PLACEHOLDER</div>
                  </div>
                  <div style={{ display: 'flex', gap: '15px', marginLeft: '20px' }}>
                    <button onClick={() => setCurrentPage('home')} style={{ background: 'none', border: 'none', cursor: 'pointer' }}>
                      <Home size={32} color="#458352" />
                    </button>
                  </div>
                </div>
                <div style={{ height: '2px', backgroundColor: '#458352', margin: '0 20px' }}></div>
                <div style={{ padding: '40px 20px' }}>
                  <h1 style={{ color: '#458352', marginBottom: '30px' }}>Recipe Cart</h1>
                  {cart.length === 0 ? (
                    <p style={{ color: '#458352', fontSize: '18px' }}>Your cart is empty</p>
                  ) : (
                    <>
                      {cart.map((item, idx) => (
                        <div key={idx} style={{ backgroundColor: 'white', border: '2px solid #458352', borderRadius: '8px', padding: '20px', marginBottom: '20px' }}>
                          <h3 style={{ color: '#458352', marginBottom: '10px' }}>{item.name} - Grocery List</h3>
                          <p style={{ color: '#458352' }}>{item.grocery}</p>
                        </div>
                      ))}
                      <button 
                        onClick={handleExportPDF}
                        style={{ backgroundColor: '#F9FFF1', border: '2px solid #458352', color: '#458352', padding: '15px 30px', borderRadius: '8px', cursor: 'pointer', fontSize: '16px', fontWeight: 'bold', marginTop: '20px' }}
                      >
                        Export as PDF
                      </button>
                    </>
                  )}
                </div>
              </div>
            );
          }

          return (
            <div style={{ backgroundColor: '#F9FFF1', minHeight: '100vh', overflow: 'hidden' }}>
              <div style={{ display: 'flex', alignItems: 'center', padding: '20px', justifyContent: 'space-between' }}>
                <div style={{ flex: '0 0 66.66%', display: 'flex', alignItems: 'center', justifyContent: 'center', backgroundColor: '#458352', height: '80px', borderRadius: '8px' }}>
                  <div style={{ fontSize: '24px', color: '#F9FFF1', fontWeight: 'bold' }}>LOGO PLACEHOLDER</div>
                </div>
                <div style={{ display: 'flex', gap: '15px', marginLeft: '20px' }}>
                  <button onClick={() => setMenuOpen(!menuOpen)} style={{ background: 'none', border: 'none', cursor: 'pointer', position: 'relative' }}>
                    <Menu size={32} color="#458352" />
                  </button>
                  <button onClick={() => setCurrentPage('cart')} style={{ background: 'none', border: 'none', cursor: 'pointer', position: 'relative' }}>
                    <ShoppingCart size={32} color="#458352" />
                    {cart.length > 0 && (
                      <div style={{ position: 'absolute', top: '-5px', right: '-5px', backgroundColor: '#458352', color: '#F9FFF1', borderRadius: '50%', width: '24px', height: '24px', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: '12px', fontWeight: 'bold' }}>
                        {cart.length}
                      </div>
                    )}
                  </button>
                </div>
              </div>
              <div style={{ height: '2px', backgroundColor: '#458352', margin: '0 20px' }}></div>
              {menuOpen && (
                <div style={{ position: 'absolute', right: '20px', top: '120px', backgroundColor: '#F9FFF1', border: '2px solid #458352', borderRadius: '8px', padding: '15px', zIndex: 1000, display: 'flex', flexDirection: 'column', gap: '10px' }}>
                  {categories.map(cat => (
                    <button 
                      key={cat}
                      onClick={() => handleCategoryClick(cat)}
                      style={{ backgroundColor: '#F9FFF1', border: '2px solid #458352', color: '#458352', padding: '10px 20px', borderRadius: '8px', cursor: 'pointer', textTransform: 'capitalize', fontWeight: 'bold' }}
                    >
                      {cat}
                    </button>
                  ))}
                  <button 
                    onClick={() => { setSelectedCategory(null); setMenuOpen(false); }}
                    style={{ backgroundColor: '#458352', border: '2px solid #458352', color: '#F9FFF1', padding: '10px 20px', borderRadius: '8px', cursor: 'pointer', fontWeight: 'bold' }}
                  >
                    Show All
                  </button>
                </div>
              )}
              <div style={{ padding: '40px 20px' }}>
                {[0, 1, 2].map(rowIndex => (
                  <ConveyorBelt 
                    key={rowIndex} 
                    recipes={getRowRecipes(rowIndex)} 
                    onPlateClick={handlePlateClick}
                    paused={animationPaused}
                  />
                ))}
              </div>
              {selectedRecipe && (
                <div style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0, backgroundColor: 'rgba(0,0,0,0.5)', display: 'flex', alignItems: 'center', justifyContent: 'center', zIndex: 2000 }}>
                  <div style={{ backgroundColor: 'white', border: '3px solid #458352', borderRadius: '12px', padding: '30px', maxWidth: '500px', width: '90%', position: 'relative' }}>
                    <button 
                      onClick={handleCloseRecipe}
                      style={{ position: 'absolute', top: '15px', right: '15px', background: 'none', border: 'none', cursor: 'pointer' }}
                    >
                      <X size={28} color="#458352" />
                    </button>
                    <h2 style={{ color: '#458352', marginBottom: '20px' }}>{selectedRecipe.name}</h2>
                    <p style={{ color: '#458352', marginBottom: '30px' }}>{selectedRecipe.recipe}</p>
                    <button 
                      onClick={() => handleAddToCart(selectedRecipe)}
                      style={{ position: 'absolute', bottom: '15px', right: '15px', backgroundColor: '#458352', color: '#F9FFF1', border: 'none', padding: '12px 24px', borderRadius: '8px', cursor: 'pointer', fontWeight: 'bold' }}
                    >
                      Add to Cart
                    </button>
                  </div>
                </div>
              )}
            </div>
          );
        };

        const ConveyorBelt = ({ recipes, onPlateClick, paused }) => {
          const [offset, setOffset] = useState(0);

          useEffect(() => {
            if (paused) return;
            const interval = setInterval(() => {
              setOffset(prev => (prev + 1) % 2000);
            }, 50);
            return () => clearInterval(interval);
          }, [paused]);

          return (
            <div style={{ marginBottom: '40px' }}>
              <div style={{ backgroundColor: '#E8F5E9', border: '2px solid #458352', borderRadius: '8px', height: '120px', position: 'relative', overflow: 'hidden' }}>
                <div style={{ display: 'flex', position: 'absolute', left: `-${offset}px`, height: '100%', alignItems: 'center' }}>
                  {[...recipes, ...recipes, ...recipes].map((recipe, idx) => (
                    <div 
                      key={idx}
                      onClick={() => onPlateClick(recipe)}
                      style={{ width: '80px', height: '80px', borderRadius: '50%', backgroundColor: '#458352', margin: '0 30px', cursor: 'pointer', flexShrink: 0, display: 'flex', alignItems: 'center', justifyContent: 'center', color: '#F9FFF1', fontWeight: 'bold', fontSize: '12px', textAlign: 'center', transition: 'transform 0.2s' }}
                      onMouseEnter={(e) => e.currentTarget.style.transform = 'scale(1.1)'}
                      onMouseLeave={(e) => e.currentTarget.style.transform = 'scale(1)'}
                    >
                      {recipe.id}
                    </div>
                  ))}
                </div>
              </div>
            </div>
          );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
